<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">

<head>
<meta charset="UTF-8">
<title>관리자 페이지</title>
<link th:href="@{/css/board-header.css}" rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/admin.css}" />
</head>

<body>
	<div layout:fragment="content">
		<div class="admin-page container-fluid px-0">
			<div class="row">

				<!-- 사이드 메뉴 -->
				<div th:replace="fragments/html/admin-sidebar :: admin-sidebar"></div>

				<!-- 메인 컨텐츠 -->
				<div class="col-10 p-4 admin-main-col">
					<h3>관리자 페이지</h3>
					<div class="card mt-3">

						<!-- 헤더 -->
						<div
							th:replace="fragments/html/board-header :: board-header('유저>유저 목록')"></div>

						<!-- 유저 테이블 -->
						<div class="card-body p-0">
							<table class="table table-hover mb-0">
								<thead>
									<tr>
										<th>#</th>
										<th>닉네임</th>
										<th>이메일</th>
										<th>가입일</th>
										<th>상태</th>
										<th>제재 횟수</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="user, userStat : ${userList}"
										style="cursor: pointer;"
										th:onclick="'window.location.href=\'/admin/user/' + ${user.userId} + '\';'">
										<td th:text="${userStat.index + 1}">1</td>
										<td th:text="${user.nickname}">홍길동</td>
										<td th:text="${user.email}">test@example.com</td>
										<td th:text="${#temporals.format(user.date, 'yyyy-MM-dd')}">2025-08-20</td>
										<td th:text="${user.sanctionType}">활성</td>
										<td th:text="${user.sanctionCount}">0</td>
									</tr>
								</tbody>
							</table>
						</div>

						<!-- 페이지네이션 + 검색바 -->
						<div class="card-footer text-center">
							<nav class="mb-3">
								<ul class="pagination justify-content-center mb-0">
									<li class="page-item"><a class="page-link" href="#">Prev</a></li>
									<li class="page-item"><a class="page-link" href="#">1</a></li>
									<li class="page-item"><a class="page-link" href="#">2</a></li>
									<li class="page-item"><a class="page-link" href="#">3</a></li>
									<li class="page-item"><a class="page-link" href="#">4</a></li>
									<li class="page-item"><a class="page-link" href="#">Next</a></li>
								</ul>
							</nav>

							<form class="d-flex justify-content-center mt-2"
								th:action="@{/admin/user/search}" method="get">
								<input type="text" class="form-control w-25 me-2"
									placeholder="닉네임/이메일 검색" name="query">
								<button class="btn btn-outline-primary" type="submit">검색</button>
							</form>
						</div>

					</div>
				</div>

			</div>
		</div>
	</div>

	<div layout:fragment="script">
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	</div>
</body>
</html>
