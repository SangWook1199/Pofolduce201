<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">

<head>
<meta charset="UTF-8">
<title>관리자 페이지</title>
<link th:href="@{/css/board-header.css}" rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/admin.css}" />
</head>

<body>
	<div layout:fragment="content">
		<div class="admin-page container-fluid px-0">
			<div class="row">

				<!-- 사이드 메뉴 -->
				<div th:replace="fragments/html/admin-sidebar :: admin-sidebar"></div>

				<!-- 메인 컨텐츠 -->
				<div class="col-10 p-4">
					<h3>회사 인증 확인</h3>
					<div class="card mt-3">

						<!-- 헤더 -->
						<div
							th:replace="fragments/html/board-header :: board-header('유저 > 회사 인증 확인')"></div>

						<!-- 인증 요청 테이블 -->
						<div class="card-body p-0">
							<table class="table table-hover mb-0">
								<thead>
									<tr>
										<th>#</th>
										<th>요청자</th>
										<th>날짜</th>
										<th>상태</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="verification, stat : ${verificationList}"
										style="cursor: pointer;"
										th:onclick="'openCertificationPopup(' + '\'' + ${verification.user.userId} + '\'' + ');'">
										<td th:text="${stat.index + 1}">1</td>
										<td th:text="${verification.user.nickname}">요청자 닉네임</td>
										<td
											th:text="${#temporals.format(verification.date, 'yyyy-MM-dd')}">요청일</td>
										<td th:text="${verification.state}">상태</td>
									</tr>
								</tbody>

							</table>
						</div>

						<!-- 페이지네이션 -->
						<div class="card-footer text-center">
							<nav class="mb-3">
								<ul class="pagination justify-content-center mb-0">
									<li class="page-item"><a class="page-link" href="#">Prev</a></li>
									<li class="page-item"><a class="page-link" href="#">1</a></li>
									<li class="page-item"><a class="page-link" href="#">2</a></li>
									<li class="page-item"><a class="page-link" href="#">3</a></li>
									<li class="page-item"><a class="page-link" href="#">4</a></li>
									<li class="page-item"><a class="page-link" href="#">Next</a></li>
								</ul>
							</nav>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>

	<div layout:fragment="script">
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

		<script>
			// 팝업 열기 함수 - 전역으로 등록
			window.openCertificationPopup = function(userId) {
				window.open('/admin/user/certificationpage?userId=' + userId,
						'certificationPopup', 'width=800,height=600');
			}
		</script>
	</div>
</body>
</html>
